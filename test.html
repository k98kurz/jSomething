<html>
	<head>
		<title>j$ test</title>
		<script src="$.js"></script>
		<script src="$-innerHTML.js"></script>
		<script src="$-betterEvents.js"></script>
		<script src="$-animation.js"></script>
		<script>
			control = {
				temp : "",
				texts : [
					"I'm a box.",
					"Not even close to a boks.",
					"I like Thai food.",
					"Psuedorandom text.",
					"Penguins are cool, too."
				],
				swaptext : function () {
					var t = $("p").getHTML(), y;
					y = control.texts[Math.ceil(Math.random()*(control.texts.length-1))];
					while (y == t) { y = control.texts[Math.ceil(Math.random()*(control.texts.length-1))]; }
					$("p").innerHTML(y, 1);
				},
				events : [
					{type:"mouseout", func: function() {
						$("o").setStyle({"background":"#fff"});
						$("o").RemoveAllEvents().AddEvent([control.events[1]]);
					}},
					{type:"mouseover", func: function() {
						$("o").setStyle({"background":"#333"});
						$("o").RemoveAllEvents().AddEvent([control.events[0]]);
					}},
					{type:"click", func: function() {
						while ( (t = Math.ceil(Math.random()*3)) == control.currentColor ) {}
						control.currentColor = t;
						$("p").setStyle({"color":control.colors[t]});
						$("o").RemoveAllEvents().AddEvent([control.events[3]]);
					}},
					{type:"click", func: function() {
						control.swaptext();
						$("o").RemoveAllEvents().AddEvent([control.events[2]]);
					}}
				],
				colors : [ "#fa0", "#afa", "#aaf", "#000" ],
				currentColor : 3,
				currentEvent : 1,
				changeEvent : function () {
					t = control.currentEvent+1; if (t>2) { t = 1; }
					console.log(t);
					$("o").RemoveAllEvents().AddEvent([control.events[(t*2)-1]]);
					control.currentEvent = t;
					console.log(control.events[(t*2)-1]);
				}
			};
		</script>
		<style>
			body {background: black; color: white;}
			#center { width: 70%; height: auto; margin: 20px auto auto; position: relative; }
			#o { width: 300px; height: 300px; background: white; margin: auto; position: relative; color: black; }
			p { padding: 20px; }
			.click {cursor:pointer;color:#aaa;}
			.click:hover {color:#ccc;text-decoration:underline;}
		</style>
	</head>
	<body>
		<div id="center">
			<div id="o">
				<p id="p">I'm a box.</p>
			</div>
			<p class="click" onclick="$('o').fade()">Click to fade the box.</p>
			<p class="click" onclick="control.swaptext()">Click for new text.</p>
			<p class="click" onclick="control.changeEvent();$(this).innerHTML('Swap Events', 1);">Put an event on it.</p>
		</div>
	</body>
</html>
